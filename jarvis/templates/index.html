<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System - Level Up Your Life</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="dark-theme">
    <div class="container">
        <!-- Character Profile -->
        <header class="character-profile">
            <div class="profile-header">
                <div class="profile-main">
                    <h1 class="character-name">{{ stats.name|default('Unknown') }}</h1>
                    <div class="character-titles">
                        <span class="character-class">{{ stats.class|default('Adventurer') }}</span>
                        <span class="character-title">{{ stats.title|default('Novice') }}</span>
                    </div>
                </div>
                <div class="rank-display">
                    <h2>RANK {{ stats.rank }}</h2>
                    <div class="progress-bar">
                        <div class="progress" style="width: {{ (stats.rank_xp / rank_requirements[stats.rank]) * 100 }}%"></div>
                    </div>
                    <p>XP: {{ stats.rank_xp }} / {{ rank_requirements[stats.rank] }}</p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-item level">
                    <span class="stat-label">Level</span>
                    <span class="stat-value">{{ stats.level }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Strength</span>
                    <span class="stat-value">{{ stats.strength }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Stamina</span>
                    <span class="stat-value">{{ stats.stamina|default(0) }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Intelligence</span>
                    <span class="stat-value">{{ stats.intelligence }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Health</span>
                    <span class="stat-value">{{ stats.health }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Wealth</span>
                    <span class="stat-value">{{ stats.wealth }}</span>
                </div>
            </div>
        </header>

        <!-- Dashboard Categories -->
        <section class="dashboard-section">
            <h2>SYSTEM INTERFACE</h2>
            <div class="category-grid">
                {% for category, items in categories.items() %}
                <div class="category-card">
                    <h3>{{ category }}</h3>
                    <ul class="category-items">
                        {% for item in items %}
                        <li>{{ item }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </div>
        </section>

        <!-- Available Quests -->
        <section class="quests-section">
            <h2>AVAILABLE QUESTS</h2>
            <div class="quest-list">
                {% for task in tasks %}
                    {% if task.status == 'pending' %}
                    <div class="quest-card {{ task.difficulty.lower() }}-rank">
                        <div class="quest-header">
                            <h3>{{ task.name }}</h3>
                            <span class="rank-badge">{{ task.difficulty }}-RANK</span>
                        </div>
                        <p class="quest-description">{{ task.description }}</p>
                        <div class="quest-footer">
                            <span class="reward">{{ task.reward }}</span>
                            <button onclick="completeQuest({{ loop.index }}, '{{ task.name }}')" class="complete-btn">Complete</button>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </section>

        <!-- Action Buttons -->
        <section class="actions-section">
            <button onclick="suggestQuests()" class="action-btn suggest-btn">Get Suggestions</button>
            <button onclick="toggleCompletedQuests()" class="action-btn history-btn">Show History</button>
        </section>

        <!-- Completed Quests Section (Hidden by default) -->
        <section class="completed-quests-section" style="display: none;">
            <h2>COMPLETED QUESTS</h2>
            <div class="quest-list">
                {% for task in tasks %}
                    {% if task.status == 'completed' %}
                    <div class="quest-card {{ task.difficulty.lower() }}-rank completed">
                        <div class="quest-header">
                            <h3>{{ task.name }}</h3>
                            <span class="rank-badge">{{ task.difficulty }}-RANK</span>
                        </div>
                        <p class="quest-description">{{ task.description }}</p>
                        <div class="quest-footer">
                            <span class="reward">{{ task.reward }}</span>
                            <span class="completed-badge">âœ“ Completed</span>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            </div>
        </section>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html> 